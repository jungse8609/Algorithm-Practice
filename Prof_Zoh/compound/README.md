# 화합물

---

**[문제]**

전기 자동차용 배터리를 연구하는 기업이 있다. 이 기업은 특허를 받은 두 가지 특수 물질 x, y를 화합물로 결합하여 배터리를 구성한다. 이 두 물질의 양이 많을수록 배터리의 용량은 두 물질의 무게의 제곱만큼 증가한다. 그런데 두 물질 중 어느 하나라도 일정 이상 혼합되면 배터리가 폭발하게 된다. 예를 들어, 두 물질의 한계 결합 용량이 (500, 230)이라면 최대 저장 에너지의 용량이 산출되지만, (501, 150)이나 (390, 300)으로 결합하면 배터리가 폭발한다. 이러한 한계 결합 용량으로 얻을 수 있는 최대 에너지를 최대 에너지(maxE)라고 부른다.

배터리 결합 실험은 한 번에 약 1억 원의 실험 장비와 시약 비용이 들고, 10일 정도가 소요된다. 따라서 최대 에너지(maxE)를 찾기 위한 실험 횟수를 최소화해야 한다.

아래는 한계 결합 용량이 (50, 30)일 때의 실험 결과를 보여준다. 저장 에너지에서 "explode"는 폭발을 의미한다. 이 경우 최대 에너지는 방법 5와 같이 xlim, ylim을 사용한 6400이다.

결합 X의 양 Y의 양 저장 에너지

| 결합 | X의 양 | Y의 양 | 저장 에너지 |
| --- | --- | --- | --- |
| 1 | 10 | 10 | (10+10) * 2 = 400 |
| 2 | 50 | 10 | (50+10)^2 = 3600 |
| 3 | 5 | 33 | **explode** |
| 4 | 60 | 5 | **explode** |
| 5 | 50 | 30 | (50+30)^2 = 6400 |

실험은 내장 함수 int experiment(int x, int y)로 확인할 수 있다. x와 y는 사용한 두 물질의 용량이다. 결과 값이 '1'이면 정상 작동, '-1'이면 폭발을 의미한다. 이 문제는 interactive mode로 진행된다.

프로그램의 header에 #include <battery.h>를 추가하고, 프로그램 시작 시 void ready();를 호출하여 실험 준비를 한다. 필요 이상으로 실험을 많이 하면 시스템이 자동으로 중단된다. 최대 에너지는 변수 int value에 저장한 뒤 void report_maxE(int value) 함수를 호출하여 보고한다.

이 함수가 호출되면 프로그램이 자동으로 종료된다. 따라서 int experiment(int x, int y) 함수를 최소한으로 호출하여 최대 생산 가능한 에너지를 찾아 보고해야 한다.

**[입출력]**

입력과 출력은 앞서 설명한 header file로 처리된다. 이 문제에서 사용하는 두 물질 x, y의 최대 용량은 100,000을 넘지 않는다.

**[예제]**

```cpp

#include "battery.h" // 반드시 포함

int myfoo( ) {
    ..
}

void yourfoo(){
    ....
}

int main( ) {
    int cx, cy;
    long mymaxE;
    ready( ); // 입력을 위해서 제일 먼저 호출
    ......
    result = experiment(cx, cy)
    if( result == -1 )..
    ....
    report_maxE( mymaxE ); // 이 함수로 종료됨
}
```

**[제한조건]**

제출 프로그램은 battery.{c, cpp}이다. 제출 횟수는 최대 15회, 각 데이터 당 수행 제한시간은 1초이다. 각 test case마다 최대로 사용할 수 있는 실험의 횟수는 미리 결정되어 있다. 이 횟수를 넘기면 자동으로 exit()된다. 이 문제에서 사용할 수 있는 token의 최대 개수는 600이다.